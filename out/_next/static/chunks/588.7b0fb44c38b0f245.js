"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{7588:function(e,t,r){var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)0>t.indexOf(n[l])&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]]);return r};Object.defineProperty(t,"__esModule",{value:!0});let l=r(2115),{memo:i,useEffect:o,useRef:a,useState:h}=l;t.default=i(e=>{var{fallback:t=l.createElement("span",null),src:r,color:i,maxWidth:c,maxHeight:d}=e,u=n(e,["fallback","src","color","maxWidth","maxHeight"]);let s=a(null),[w,f]=h({width:100,height:100}),g=(e,t,r,n)=>{if(r&&!n||!r&&n)throw Error("If you are going to provide width, make sure to provide height as well");if(!r&&!n)return{width:e,height:t};let l=Math.min(r/e,n/t);return{width:e*l,height:t*l}};return(o(()=>{let{current:e}=s,t=new Image;t.src=r;let n=document.createElement("canvas"),l=n.getContext("2d"),o=e.getContext("2d");t.onload=()=>{let{width:e,height:r}=g(t.width,t.height,c,d);f({width:e,height:r}),l.clearRect(0,0,e,r),o.clearRect(0,0,e,r),n.width=e,n.height=r,l.fillStyle=i,l.fillRect(0,0,e,r),l.globalCompositeOperation="destination-atop",l.drawImage(t,0,0,e,r),o.globalAlpha=1,o.drawImage(n,0,0,e,r)}},[r,i,c,d,null==s?void 0:s.current]),"undefined"!=typeof window&&window.document&&window.document.createElement)?l.createElement("canvas",Object.assign({width:w.width,height:w.height,ref:s},u)):t})}}]);